"use strict";(()=>{var e={};e.id=745,e.ids=[745],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5626:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>P,patchFetch:()=>v,requestAsyncStorage:()=>f,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>b});var n={};r.r(n),r.d(n,{GET:()=>h});var s=r(2390),o=r(1498),a=r(9308),i=r(5054),l=r(4990),u=r(246),d=r(7024);async function h(e){try{let t=e.cookies.get("next-auth.session-token")?.value??e.headers.get("Authorization")?.replace("Bearer ",""),r=await i.db.select().from(u.sessions).where((0,l.eq)(u.sessions.sessionToken,t)).leftJoin(u.users,(0,l.eq)(u.sessions.userId,u.users.id));if(!r||0===r.length)return d.Z.json({message:"Invalid Key, session not found."},{status:404});return d.Z.json({message:"OK",data:r[0]},{status:200})}catch(e){return d.Z.json({message:"Error",error:e},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/store/route",pathname:"/api/store",filename:"route",bundlePath:"app/api/store/route"},resolvedPagePath:"/Users/dhravyashah/Documents/code/anycontext/apps/web/src/app/api/store/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:g,staticGenerationBailout:b}=c,P="/api/store/route";function v(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:p})}},5054:(e,t,r)=>{r.d(t,{db:()=>l});let n=require("better-sqlite3");var s=r.n(n),o=r(9404),a=r(8654),i=r(246);let l=(0,o.t)(new(s())(a.O.DATABASE_URL,{fileMustExist:!1}),{schema:i})},246:(e,t,r)=>{r.r(t),r.d(t,{accounts:()=>p,accountsRelations:()=>m,createTable:()=>d,posts:()=>h,sessions:()=>g,sessionsRelations:()=>b,users:()=>c,usersRelations:()=>f,verificationTokens:()=>P});var n=r(2393),s=r(9349),o=r(5225),a=r(9415),i=r(440),l=r(7591),u=r(7357);let d=(0,o._9)(e=>`anycontext_${e}`),h=d("post",{id:(0,a.e$)("id",{mode:"number"}).primaryKey({autoIncrement:!0}),name:(0,i.fL)("name",{length:256}),createdById:(0,i.fL)("createdById",{length:255}).notNull().references(()=>c.id),createdAt:(0,a.e$)("created_at",{mode:"timestamp"}).default(n.i6`CURRENT_TIMESTAMP`).notNull(),updatedAt:(0,a.e$)("updatedAt",{mode:"timestamp"})},e=>({createdByIdIdx:(0,l.Kz)("createdById_idx").on(e.createdById),nameIndex:(0,l.Kz)("name_idx").on(e.name)})),c=d("user",{id:(0,i.fL)("id",{length:255}).notNull().primaryKey(),name:(0,i.fL)("name",{length:255}),email:(0,i.fL)("email",{length:255}).notNull(),emailVerified:(0,a.e$)("emailVerified",{mode:"timestamp"}).default(n.i6`CURRENT_TIMESTAMP`),image:(0,i.fL)("image",{length:255})}),f=(0,s.lE)(c,({many:e})=>({accounts:e(p)})),p=d("account",{userId:(0,i.fL)("userId",{length:255}).notNull().references(()=>c.id),type:(0,i.fL)("type",{length:255}).$type().notNull(),provider:(0,i.fL)("provider",{length:255}).notNull(),providerAccountId:(0,i.fL)("providerAccountId",{length:255}).notNull(),refresh_token:(0,i.fL)("refresh_token"),access_token:(0,i.fL)("access_token"),expires_at:(0,a.e$)("expires_at"),token_type:(0,i.fL)("token_type",{length:255}),scope:(0,i.fL)("scope",{length:255}),id_token:(0,i.fL)("id_token"),session_state:(0,i.fL)("session_state",{length:255})},e=>({compoundKey:(0,u.CK)({columns:[e.provider,e.providerAccountId]}),userIdIdx:(0,l.Kz)("account_userId_idx").on(e.userId)})),m=(0,s.lE)(p,({one:e})=>({user:e(c,{fields:[p.userId],references:[c.id]})})),g=d("session",{sessionToken:(0,i.fL)("sessionToken",{length:255}).notNull().primaryKey(),userId:(0,i.fL)("userId",{length:255}).notNull().references(()=>c.id),expires:(0,a.e$)("expires",{mode:"timestamp"}).notNull()},e=>({userIdIdx:(0,l.Kz)("session_userId_idx").on(e.userId)})),b=(0,s.lE)(g,({one:e})=>({user:e(c,{fields:[g.userId],references:[c.id]})})),P=d("verificationToken",{identifier:(0,i.fL)("identifier",{length:255}).notNull(),token:(0,i.fL)("token",{length:255}).notNull(),expires:(0,a.e$)("expires",{mode:"timestamp"}).notNull()},e=>({compoundKey:(0,u.CK)({columns:[e.identifier,e.token]})}))},7024:(e,t,r)=>{Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return n.NextResponse}});let n=r(8681)},5535:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return d}});let n=r(1309),s=r(3570),o=r(1858),a=r(8375),i=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(i,"localhost"),t&&String(t).replace(i,"localhost"))}let u=Symbol("NextURLInternal");class d{constructor(e,t,r){let n,s;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,s=r||{}):s=r||t||{},this[u]={url:l(e,n??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,t,r,s,i;let l=(0,a.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),d=(0,o.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(d):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,d);let h=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[u].options.nextConfig)?void 0:null==(s=i.i18n)?void 0:s.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=h,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??h,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,s.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new d(String(this),this[u].options)}}},8681:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return u}});let n=r(5535),s=r(9960),o=r(8005),a=Symbol("internal response"),i=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,s]of e.request.headers)t.set("x-middleware-request-"+n,s),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class u extends Response{constructor(e,t={}){super(e,t),this[a]={cookies:new o.ResponseCookies(this.headers),url:t.url?new n.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[a].cookies}static json(e,t){let r=Response.json(e,t);return new u(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!i.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},o=new Headers(null==n?void 0:n.headers);return o.set("Location",(0,s.validateURL)(e)),new u(null,{...n,headers:o,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),l(t,r),new u(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new u(null,{...e,headers:t})}}},9960:(e,t)=>{function r(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function n(e){var t,r,n,s,o,a=[],i=0;function l(){for(;i<e.length&&/\s/.test(e.charAt(i));)i+=1;return i<e.length}for(;i<e.length;){for(t=i,o=!1;l();)if(","===(r=e.charAt(i))){for(n=i,i+=1,l(),s=i;i<e.length&&"="!==(r=e.charAt(i))&&";"!==r&&","!==r;)i+=1;i<e.length&&"="===e.charAt(i)?(o=!0,i=s,a.push(e.substring(t,n)),t=i):i=n+1}else i+=1;(!o||i>=e.length)&&a.push(e.substring(t,e.length))}return a}function s(e){let t={},r=[];if(e)for(let[s,o]of e.entries())"set-cookie"===s.toLowerCase()?(r.push(...n(o)),t[s]=1===r.length?r[0]:r):t[s]=o;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return o}})},1858:(e,t)=>{function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},1309:(e,t)=>{function r(e,t,r){if(e)for(let o of(r&&(r=r.toLowerCase()),e)){var n,s;if(t===(null==(n=o.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===o.defaultLocale.toLowerCase()||(null==(s=o.locales)?void 0:s.some(e=>e.toLowerCase()===r)))return o}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},4429:(e,t)=>{function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},8606:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return o}});let n=r(6553),s=r(1562);function o(e,t,r,o){if(!t||t===r)return e;let a=e.toLowerCase();return!o&&((0,s.pathHasPrefix)(a,"/api")||(0,s.pathHasPrefix)(a,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},6553:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return s}});let n=r(4774);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:o}=(0,n.parsePath)(e);return""+t+r+s+o}},726:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return s}});let n=r(4774);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:o}=(0,n.parsePath)(e);return""+r+t+s+o}},3570:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return i}});let n=r(3662),s=r(6553),o=r(726),a=r(8606);function i(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,o.addPathSuffix)((0,s.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,o.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},8375:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=r(4429),s=r(2487),o=r(1562);function a(e,t){var r,a;let{basePath:i,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},d={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};i&&(0,o.pathHasPrefix)(d.pathname,i)&&(d.pathname=(0,s.removePathPrefix)(d.pathname,i),d.basePath=i);let h=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let e=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];d.buildId=r,h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(d.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(d.pathname):(0,n.normalizeLocalePath)(d.pathname,l.locales);d.locale=e.detectedLocale,d.pathname=null!=(a=e.pathname)?a:d.pathname,!e.detectedLocale&&d.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):(0,n.normalizeLocalePath)(h,l.locales)).detectedLocale&&(d.locale=e.detectedLocale)}return d}},4774:(e,t)=>{function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},1562:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let n=r(4774);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},2487:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return s}});let n=r(1562);function s(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},3662:(e,t)=>{function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},8654:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(1671),s=r(3251);let o=(0,n.D)({server:{DATABASE_URL:s.z.string().refine(e=>!e.includes("YOUR_MYSQL_URL_HERE"),"You forgot to change the default URL"),NODE_ENV:s.z.enum(["development","test","production"]).default("development"),NEXTAUTH_SECRET:s.z.string(),NEXTAUTH_URL:s.z.preprocess(e=>process.env.VERCEL_URL??e,process.env.VERCEL?s.z.string():s.z.string().url()),GOOGLE_CLIENT_ID:s.z.string(),GOOGLE_CLIENT_SECRET:s.z.string()},client:{},runtimeEnv:{DATABASE_URL:process.env.DATABASE_URL,NODE_ENV:"production",NEXTAUTH_SECRET:process.env.NEXTAUTH_SECRET,NEXTAUTH_URL:process.env.NEXTAUTH_URL,GOOGLE_CLIENT_ID:process.env.GOOGLE_CLIENT_ID,GOOGLE_CLIENT_SECRET:process.env.GOOGLE_CLIENT_SECRET},skipValidation:!!process.env.SKIP_ENV_VALIDATION,emptyStringAsUndefined:!0})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[369,917],()=>r(5626));module.exports=n})();